chrome.runtime.onMessage.addListener((e,i,s)=>(e.type==="LSAT_DATA_COLLECTED"&&(chrome.storage.local.get(["lsatData"],o=>{const t=[...o.lsatData||[],...e.data].filter((a,l,r)=>l===r.findIndex(n=>n.questionId===a.questionId||n.questionText===a.questionText&&n.testName===a.testName));chrome.storage.local.set({lsatData:t},()=>{chrome.runtime.sendMessage({type:"LSAT_DATA_UPDATE",data:t,status:`Collected ${e.data.length} new questions. Total: ${t.length}`,complete:e.complete})})}),s({success:!0})),!0));chrome.runtime.onInstalled.addListener(()=>{console.log("LSAT Demon Analyzer installed")});
